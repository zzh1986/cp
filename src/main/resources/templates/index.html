<!DOCTYPE html>
<html class="no-js">
<head>
    <title>彩票的相关数据展示</title>
    <link href="/static/bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen">
    <link href="/static/bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet" media="screen">
    <link href="/static/vendors/easypiechart/jquery.easy-pie-chart.css" rel="stylesheet" media="screen">
    <link href="/static/assets/styles.css" rel="stylesheet" media="screen">
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <script src="/static/vendors/modernizr-2.6.2-respond-1.1.0.min.js"></script>
    <script src="/static/bootstrap/js/miaov.js"></script>
    <style type="text/css">
        * {
            margin: 0;
            padding: 0;
            font-family: "微软雅黑";
        }

        #panel {
            list-style: none;
            position: relative;
            top: 30px;
            left: 30px;
        }

        #panel li {
            position: absolute;
            top: 0;
            overflow: hidden;
            width: 56px;
            height: 92px;
        }

        #panel li img {
            display: block;
            position: absolute;
        }

        #panel li .pic01 {
            top: 0;
        }

        #panel li .pic02 {
            top: 92px;
        }

    </style>
</head>

<body>
<div class="navbar navbar-fixed-top">
    <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"> <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>
            <a class="brand" href="#">BootAdmin</a>
            <div class="nav-collapse collapse">
                <ul class="nav pull-right">
                    <li class="dropdown">
                        <a href="#" role="button" class="dropdown-toggle" data-toggle="dropdown"> <i
                                class="icon-user"></i>管理员<i class="caret"></i>

                        </a>
                        <ul class="dropdown-menu">
                            <li>
                                <a tabindex="-1" href="#">个人资料</a>
                            </li>
                            <li class="divider"></li>
                            <li>
                                <a tabindex="-1" href="login.html">退出</a>
                            </li>
                        </ul>
                    </li>
                </ul>
                <ul class="nav">
                    <li class="active">
                        <a href="#">首页</a>
                    </li>
                    <li class="dropdown">
                        <a href="#" data-toggle="dropdown" class="dropdown-toggle">设置 <b class="caret"></b>

                        </a>
                        <ul class="dropdown-menu" id="menu1">
                            <li>
                                <a href="#">工具 <i class="icon-arrow-right"></i>

                                </a>
                                <ul class="dropdown-menu sub-menu">
                                    <li>
                                        <a href="#">报表</a>
                                    </li>
                                    <li>
                                        <a href="#">日志</a>
                                    </li>
                                    <li>
                                        <a href="#">错误</a>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <a href="#">SEO设置</a>
                            </li>
                            <li>
                                <a href="#">其他链接</a>
                            </li>
                            <li class="divider"></li>
                            <li>
                                <a href="#">其他链接</a>
                            </li>
                            <li>
                                <a href="#">其他链接</a>
                            </li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" role="button" class="dropdown-toggle" data-toggle="dropdown">内容 <i
                                class="caret"></i>

                        </a>
                        <ul class="dropdown-menu">
                            <li>
                                <a tabindex="-1" href="#">博客</a>
                            </li>
                            <li>
                                <a tabindex="-1" href="#">新闻</a>
                            </li>
                            <li>
                                <a tabindex="-1" href="#">定制页面</a>
                            </li>
                            <li>
                                <a tabindex="-1" href="#">日历</a>
                            </li>
                            <li class="divider"></li>
                            <li>
                                <a tabindex="-1" href="#">答疑</a>
                            </li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" role="button" class="dropdown-toggle" data-toggle="dropdown">用户 <i
                                class="caret"></i>

                        </a>
                        <ul class="dropdown-menu">
                            <li>
                                <a tabindex="-1" href="#">用户列表</a>
                            </li>
                            <li>
                                <a tabindex="-1" href="#">搜索</a>
                            </li>
                            <li>
                                <a tabindex="-1" href="#">权限</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
            <!--/.nav-collapse -->
        </div>
    </div>
</div>
<div class="container-fluid">
    <div class="row-fluid">
        <div class="span2" id="sidebar">
            <ul class="nav nav-list bs-docs-sidenav nav-collapse collapse">
                <li class="active">
                    <a href="index.html"><i class="icon-chevron-right"></i> 首页</a>
                </li>
                <li>
                    <a href="form.html"><i class="icon-chevron-right"></i> 冷热号统计表</a>
                </li>
                <li>
                    <a href="tables.html"><i class="icon-chevron-right"></i> 奇偶大小统计表</a>
                </li>
            </ul>
        </div>

        <div class="span10">
            <ul id="panel">
                <li>
                    <img src="" class="pic01"> <img src="" class="pic02">
                </li>
                <li>
                    <img src="" class="pic01"> <img src="" class="pic02">
                </li>
                <li>
                    <img src="">

                </li>
                <li>
                    <img src="" class="pic01"> <img src="" class="pic02">
                </li>
                <li>
                    <img src="" class="pic01"> <img src="" class="pic02">
                </li>
                <li>
                    <img src="">

                </li>
                <li>
                    <img src="" class="pic01"> <img src="" class="pic02">
                </li>
                <li>
                    <img src="" class="pic01"> <img src="" class="pic02">
                </li>
            </ul>
        </div>
        <br class="row-fluid"/>
        <div class="span10" id="content">
            <div>
                <span id="year"></span><span>年</span>
                <span id="month"></span> <span>月</span>
                <span id="day"></span><span>日</span>
                <span id="hours"></span><span>时</span>
                <span id="minutes"></span><span>分</span>
                <span id="seconds"></span><span>秒</span>
            </div>
            <div class="row-fluid">
                <!-- block -->
                <div class="block">
                    <div class="navbar navbar-inner block-header">
                        <div class="muted pull-left">统计</div>
                        <div class="pull-right"><span class="badge badge-warning">查看更多</span>

                        </div>
                    </div>
                    <div class="block-content collapse in">
                        <div class="span3">
                            <div class="chart" data-percent="73">73%</div>
                            <div class="chart-bottom-heading"><span class="label label-info">访问量</span>

                            </div>
                        </div>
                        <div class="span3">
                            <div class="chart" data-percent="53">53%</div>
                            <div class="chart-bottom-heading"><span class="label label-info">浏览量</span>

                            </div>
                        </div>
                        <div class="span3">
                            <div class="chart" data-percent="83">83%</div>
                            <div class="chart-bottom-heading"><span class="label label-info">用户</span>

                            </div>
                        </div>
                        <div class="span3">
                            <div class="chart" data-percent="13">13%</div>
                            <div class="chart-bottom-heading"><span class="label label-info">订单</span>

                            </div>
                        </div>
                    </div>
                </div>
                <!-- /block -->
            </div>
            <br class="row-fluid">
            <div>
                <!-- block -->
                <div class="block">
                    <div class="navbar navbar-inner block-header">
                        <div class="muted pull-left">当前冷热温余商和差统计</div>
                        <div class="pull-right"><span class="badge badge-info">冷热温余商和差</span>

                        </div>
                    </div>
                    <div class="block-content collapse in">
                        <table class="table table-striped">
                            <thead>
                            <tr>
                                <th>期号</th>
                                <th>热号</th>
                                <th>温号</th>
                                <th>冷号</th>
                                <th>商/余</th>
                                <th>和/差</th>
                            </tr>
                            </thead>
                            <tbody id="warm">

                            </tbody>
                        </table>
                    </div>
                </div>
                <!-- /block -->
            </div>
            </br>
            <div>
                <div class="row-fluid">
                    <div>
                        <!-- block -->
                        <div class="block">
                            <div class="navbar navbar-inner block-header">
                                <div class="muted pull-left">当前奇偶大小质合分类</div>
                                <div class="pull-right"><span class="badge badge-info">奇偶大小质合</span>

                                </div>
                            </div>
                            <div class="block-content collapse in">
                                <table class="table table-striped">
                                    <thead>
                                    <tr>
                                        <th>期号</th>
                                        <th>奇数组</th>
                                        <th>偶数组</th>
                                        <th>质数组</th>
                                        <th>合数组</th>
                                        <th>大数组</th>
                                        <th>小数组</th>
                                        <th>奇数个数</th>
                                        <th>偶数个数</th>
                                        <th>质数个数</th>
                                        <th>合数个数</th>
                                        <th>大数个数</th>
                                        <th>小数个数</th>
                                    </tr>
                                    </thead>
                                    <tbody id="jiou">

                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <!-- /block -->
                    </div>
                </div>
                <footer>
                    <p>彩票有风险,投资需谨慎
                    </p>
                </footer>
            </div>
        </div>
    </div>
</div>
</div>
<!--/.fluid-container-->
<script src="/static/vendors/jquery-1.9.1.min.js"></script>
<script src="/static/bootstrap/js/bootstrap.min.js"></script>
<script src="/static/vendors/easypiechart/jquery.easy-pie-chart.js"></script>
<script src="/static/assets/scripts.js"></script>
<script>
    $(function () {
        // Easy pie charts
        $('.chart').easyPieChart({animate: 1000});
        getLatestJiOuNumber();
        getLatestWarmColdNumber();
    });

    function getLatestWarmColdNumber() {
        var url = "http://localhost:8070/getHotColdNumbers";
        var params = {date: new Date()};
        $.get(url, params, function (data) {
            console.log(data);
            /*初始化表格*/
            var tr = "<tr>"
                + "<td>" + data[data.length - 1].period + "</td>" + "<td>" + data[data.length - 1].hotNumber + "</td>"
                + "<td>" + data[data.length - 1].warmNumber + "</td>" + "<td>" + data[data.length - 1].coldNumber + "</td>"
                + "<td>" + data[data.length - 1].twoNumber + "</td>" + "<td>" + data[data.length - 1].anotherTwo + "</td>"
                + "</tr>"
            $("#warm").append(tr);
        })
    }

    function getLatestJiOuNumber() {
        var url = "http://localhost:8070/saveOneDayGroupNumbers";
        var params = {date: new Date()};
        $.get(url, params, function (data) {
            /*初始化表格*/
            var tr = "<tr>"
                + "<td>" + data[data.length - 1].period + "</td>" + "<td>" + data[data.length - 1].jiGroup + "</td>"
                + "<td>" + data[data.length - 1].ouGroup + "</td>" + "<td>" + data[data.length - 1].zhiGroup + "</td>"
                + "<td>" + data[data.length - 1].heGroup + "</td>" + "<td>" + data[data.length - 1].daGroup + "</td>"
                + "<td>" + data[data.length - 1].xiaoGroup + "</td>" + "<td>" + data[data.length - 1].jiAmount + "</td>"
                + "<td>" + data[data.length - 1].ouAmount + "</td>" + "<td>" + data[data.length - 1].zhiAmount + "</td>"
                + "<td>" + data[data.length - 1].heAmount + "</td>" + "<td>" + data[data.length - 1].daAmount + "</td>"
                + "<td>" + data[data.length - 1].xiaoAmount + "</td>"
                + "</tr>"
            $("#jiou").append(tr);
        })
    }

    /*定时查询当前分钟数,查到以4分钟结尾的话进行定时刷新*/
    function getMinutes() {
        var minutes = document.getElementById("minutes").innerHTML.toString();
        if (minutes.endsWith("4")) {
            window.location.reload();
        }
    }

    /*时间进行展示*/
    function myDate() {
        var now = new Date();
        var year = now.getFullYear();
        var month = now.getMonth() + 1;
        var day = now.getDate();
        var hours = now.getHours();
        var minutes = now.getMinutes();
        var seconds = now.getSeconds();

        document.getElementById("year").innerHTML = year;
        document.getElementById("month").innerHTML = month;
        document.getElementById("day").innerHTML = day;
        document.getElementById("hours").innerHTML = hours;
        document.getElementById("minutes").innerHTML = minutes.toString().length == 1 ? ("0" + minutes) : minutes;
        document.getElementById("seconds").innerHTML = seconds;

    }

    setInterval(myDate, 1000);
    setInterval(getMinutes, 55000);

    /*时间控件的相关js代码*/
    window.onload = function () {
        var arr = ['static/images/0.png', 'static/images/1.png', 'static/images/2.png', 'static/images/3.png', 'static/images/4.png', 'static/images/5.png', 'static/images/6.png', 'static/images/7.png', 'static/images/8.png', 'static/images/9.png', 'static/images/mao.png',]
        var panel = document.getElementById("panel");
        var aLi = panel.getElementsByTagName("li");
        var nTime = null;
        var str = null;
        var nstr;
        for (var i = 0; i < aLi.length; i++) {
            aLi[i].style.left = 56 * i + 'px';
        }

        function showTime1() {
            var iNow = new Date();
            var nHours = iNow.getHours();
            var nMinutes = iNow.getMinutes();
            var nSecondes = iNow.getSeconds();
            str = toTwo(nHours) + ':' + toTwo(nMinutes) + ':' + toTwo(nSecondes);
        }

        function showTime2() {
            var iNow = new Date();
            nTime = iNow.getTime() + 1000;
            iNew = new Date(nTime);
            var tHours = iNew.getHours();
            var tMinutes = iNew.getMinutes();
            var tSecondes = iNew.getSeconds();
            nstr = toTwo(tHours) + ':' + toTwo(tMinutes) + ':' + toTwo(tSecondes);
        }

        showTime1();
        showTime2();
        setInterval(function () {
            showTime1();
            showTime2();
        }, 1000);

        function initial(aLi) {
            for (var i = 0; i < aLi.length; i++) {
                if (i != 2 && i != 5) {
                    aLi[i].getElementsByTagName("img")[0].src = arr[str.charAt(i)];
                    aLi[i].getElementsByTagName("img")[1].src = arr[nstr.charAt(i)];
                } else {
                    aLi[i].getElementsByTagName("img")[0].src = arr[10];
                }
            }
        }

        initial(aLi);

        timeRoll(aLi, 0);
        timeRoll(aLi, 1);
        timeRoll(aLi, 3);
        timeRoll(aLi, 4);
        timeRoll(aLi, 6);
        timeRoll(aLi, 7);

        function timeRoll(obj, i) {
            setInterval(function () {
                var pNumber = str.charAt(i);
                var tNumber = nstr.charAt(i);
                var pImg = obj[i].getElementsByTagName("img")[0];
                var nImg = obj[i].getElementsByTagName("img")[1];
                if (pNumber !== tNumber && parseInt(getStyle(nImg, 'top')) == 92) {

                    nImg.src = arr[nstr.charAt(i)];
                    doMove(nImg, 'top', 5, 0, function () {

                    });
                    doMove(pImg, 'top', 5, -92, function () {
                        pImg.style.top = '92px';
                        pImg.src = arr[str.charAt(i)];

                    });

                } else if (pNumber !== tNumber && parseInt(getStyle(pImg, 'top')) == 92) {

                    pImg.src = arr[nstr.charAt(i)];
                    doMove(pImg, 'top', 5, 0, function () {

                    });
                    doMove(nImg, 'top', 5, -92, function () {
                        nImg.style.top = '92px';
                        nImg.src = arr[str.charAt(i)];

                    });
                }
            }, 1000)
        };
    }

</script>
</body>

</html>